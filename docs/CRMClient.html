<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<title>DynamicsNode Class: CRMClient</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	<link type="text/css" rel="stylesheet" href="styles/site.spacelab.css">

</head>

<body>

<div class="navbar navbar-default navbar-fixed-top navbar-inverse">
<div class="container">
	<div class="navbar-header">
		<a class="navbar-brand" href="index.html">DynamicsNode</a>
		<button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#topNavigation">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
        </button>
	</div>
	<div class="navbar-collapse collapse" id="topNavigation">
		<ul class="nav navbar-nav">
			
			<li class="dropdown">
				<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="CRMClient.html">CRMClient</a></li><li><a href="DataTable.html">DataTable</a></li><li><a href="DataTableJsonSerializer.html">DataTableJsonSerializer</a></li><li><a href="DataTableSerializer.html">DataTableSerializer</a></li><li><a href="DataTableXlsSerializer.html">DataTableXlsSerializer</a></li><li><a href="DataTableXmlSerializer.html">DataTableXmlSerializer</a></li><li><a href="Fetch.html">Fetch</a></li><li><a href="Filter.html">Filter</a></li><li><a href="Guid.html">Guid</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="tutorials.list.html" class="dropdown-toggle" data-toggle="dropdown">Tutorials<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="tutorial-CommandsAndRepl.html">CommandsAndRepl</a></li><li><a href="tutorial-CompileAndTesting.html">CompileAndTesting</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="global.html" class="dropdown-toggle" data-toggle="dropdown">Global<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="global.html">Global</a></li>
				</ul>
			</li>
			
		</ul>
        
            <div class="col-sm-3 col-md-3">
                <form class="navbar-form" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search" name="q" id="search-input">
                        <div class="input-group-btn">
                            <button class="btn btn-default" id="search-submit"><i class="glyphicon glyphicon-search"></i></button>
                        </div>
                    </div>
                </form>
            </div>
        
	</div>

</div>
</div>


<div class="container" id="toc-content">
<div class="row">

	
	<div class="col-md-8">
	
		<div id="main">
			

	<h1 class="page-title">Class: CRMClient</h1>
<section>

<header>
    
        <h2>
        CRMClient
        </h2>
        
            <div class="class-description"><p>Allow access to CRM functions. Contains the functions to interact with CRM services.</p></div>
        
    
</header>


<article>
    <div class="container-overview">
    
        
<hr>
<dt>
    <h4 class="name" id="CRMClient"><span class="type-signature"></span>new CRMClient(connectionString)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Default constructor</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>connectionString</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>Optional. A valid connection string or connection string name.<br>The connection string can be either a valid connection string or a name of an existing connection string in the file &quot;config.json&quot; at the root path of your application.<br>If no value is passed to the constructor, the &quot;default&quot; text will be assumed, which means that a connection string named &quot;default&quot; will be used.</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="CRMClient.js.html">CRMClient.js</a>,
				 <a href="CRMClient.js.html#sunlight-1-line-16">line 16</a>
			</li>
		</ul>
	</dd>
	

	

	
	<dt class="tag-see method-doc-label method-doc-details-label">See:</dt>
	<dd class="tag-see">
		<ul>
			<li><a href="https://msdn.microsoft.com/en-ie/library/mt608573.aspx">https://msdn.microsoft.com/en-ie/library/mt608573.aspx</a> for further information</li>
			</ul>
	</dd>
	

	
</dl>


    

    

    

    

    

    

    
        <h5>Examples</h5>
        
        <p class="code-caption">config.json file format</p>
    
    <pre class="sunlight-highlight-javascript">{     &quot;connectionStrings&quot;:     {         &quot;default&quot;:&quot;AuthType=Office365; Url=http://crm.contoso.com/xrmContoso; Domain=CONTOSO; Username=jsmith; Password=passcode&quot;,         &quot;connection2&quot;:&quot;AuthType=AD; Url=http://crm.contoso.com/xrmContoso&quot;     }}</pre>

        <p class="code-caption">Create a connection using a valid Connection String</p>
    
    <pre class="sunlight-highlight-javascript">var crm = new CRMClient(&quot;AuthType=Office365; Url=http://crm.contoso.com/xrmContoso; Domain=CONTOSO; Username=jsmith; Password=passcode&quot;);</pre>

        <p class="code-caption">Create a connection using the connection string named "connection2" specified in the config.json file</p>
    
    <pre class="sunlight-highlight-javascript">var crm = new CRMClient(&quot;connection2&quot;);</pre>

        <p class="code-caption">Create a connection using the connection string named "default" specified in the config.json file</p>
    
    <pre class="sunlight-highlight-javascript">var crm = new CRMClient();</pre>

        <p class="code-caption">Create a connection using the connection string named "default" specified in the config.json file</p>
    
    <pre class="sunlight-highlight-javascript">var crm = new CRMClient(&quot;default&quot;);</pre>


    
</dd>

    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        <dl>
            
<hr>
<dt>
    <h4 class="name" id="create"><span class="type-signature"></span>create(entityName, attributes)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Creates a record in CRM. The names in the entity or attributes are case insensitive, so all the names will be lowercased before<br>send the operation to Crm.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>entityName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>The name of the entity which record you want to create</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>attributes</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>



            
            </td>

            

            

            <td class="description last"><p>Javascript object with the values the new record will have.</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="CRMClient.js.html">CRMClient.js</a>,
				 <a href="CRMClient.js.html#sunlight-1-line-310">line 310</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>GUID of the record created.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>



    </dd>
</dl>


        

    
        <h5>Examples</h5>
        
        <p class="code-caption">Create an account named "Contoso"</p>
    
    <pre class="sunlight-highlight-javascript">var accountid = crm.create(&quot;account&quot;,{name:&quot;contoso&quot;,description:&quot;this is a test&quot;,AccountCategoryCode:1});console.log(accountid);</pre>

        <p class="code-caption">Create an email with activity parties</p>
    
    <pre class="sunlight-highlight-javascript">var contact1Id = &quot;{6633f95b-c146-45d4-ae99-6bd84f9bf7bc}&quot;var contact2Id = &quot;{6633f95b-c146-45d4-ae99-6bd84f9bf7bc}&quot;var userId = &quot;{6633f95b-c146-45d4-ae99-6bd84f9bf7bc}&quot;var email = {              To : [{id:contact1Id,type:&quot;contact&quot;},{id:contact2Id,type:&quot;contact&quot;}],              From : [{id:userId,type:&quot;systemuser&quot;}],              Subject : &quot;Test Email&quot;,              Description : &quot;Test Email&quot;,              DirectionCode : true             };var emailId = crm.create(&quot;email&quot;,email);</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="create"><span class="type-signature"></span>create(data)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Creates records in CRM using the rows defined in the DataTable.<br>The id attribute of every created record will be updated with the generated CRM GUID.<br>You need to set the name of the table with the entity name that you want to create.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="DataTable.html">DataTable</a></span>



            
            </td>

            

            

            <td class="description last"><p>DataTable with the data to be created in CRM.</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="CRMClient.js.html">CRMClient.js</a>,
				 <a href="CRMClient.js.html#sunlight-1-line-335">line 335</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    

    
        <h5>Example</h5>
        
        <p class="code-caption">Create a set of accounts using an excel file</p>
    
    <pre class="sunlight-highlight-javascript">var accountsToLoad = DataTable.load(&quot;AccountsToLoad.xlsx&quot;);crm.create(accountsToLoad);console.log(accountsToLoad.rows[0].accountid); // This will output the GUID of the created record</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="createIfDoesNotExist"><span class="type-signature"></span>createIfDoesNotExist(data, matchFields)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>For every record in the specified Table, tries to find out if it does exists, and if doesn't it creates it.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="DataTable.html">DataTable</a></span>



            
            </td>

            

            

            <td class="description last"><p>DataTable with the entity name and the records to create in CRM.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>matchFields</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>



            
            </td>

            

            

            <td class="description last"><p>List of fields in the attributes parameter you want to use to know if the record exists in CRM.<br>The attributes specified in this parameter will be used to perform a <a href="CRMClient.html#retrieve">CRMClient#retrieve</a>.</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="CRMClient.js.html">CRMClient.js</a>,
				 <a href="CRMClient.js.html#sunlight-1-line-683">line 683</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    

    
        <h5>Example</h5>
        
        <p class="code-caption">Loads a list of accounts from an Excel file and creates only the ones that don't exist already in CRM.It uses the email address to know if the account exists or not.</p>
    
    <pre class="sunlight-highlight-javascript">var accountsToLoad = DataTable.load(&quot;AccountsToLoad.xlsx&quot;);crm.createIfDoesNotExist(accountsToLoad,[&quot;emailaddress1&quot;]);</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="createIfDoesNotExist"><span class="type-signature"></span>createIfDoesNotExist(entityName, attributes, matchFields)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Takes a list of attributes and values, tries to find an existing record with those values in CRM, and if doesn't exists it creates it.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>entityName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>Name of the entity which record you want to create.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>attributes</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>



            
            </td>

            

            

            <td class="description last"><p>Javascript object with the attributes you want to create.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>matchFields</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>



            
            </td>

            

            

            <td class="description last"><p>List of fields in the attributes parameter you want to use to know if the record exists in CRM.<br>The attributes specified in this parameter will be used to perform a <a href="CRMClient.html#retrieve">CRMClient#retrieve</a>.</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="CRMClient.js.html">CRMClient.js</a>,
				 <a href="CRMClient.js.html#sunlight-1-line-693">line 693</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    

    
        <h5>Examples</h5>
        
        <p class="code-caption">Create an account named "contoso" only if it doesn't exist one already with the specified email.If theres more than one account with that email, an exception will be thrown</p>
    
    <pre class="sunlight-highlight-javascript">crm.createIfDoesNotExist(&quot;account&quot;,{name:&quot;contoso&quot;, description:&quot;New Account Created&quot;, emailaddress1:&quot;info@contoso.com&quot;},[&quot;emailaddress1&quot;]);</pre>

        <p class="code-caption">Searches for an account named "contoso" owned by me. If it doesn't exist, it creates it.</p>
    
    <pre class="sunlight-highlight-javascript">var me = crm.whoAmI().UserId;crm.createIfDoesNotExist(&quot;account&quot;,{name:&quot;contoso&quot;, description:&quot;Account Updated&quot;, ownerid:me},[&quot;name&quot;,&quot;ownerid&quot;]);</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="createOrUpdate"><span class="type-signature"></span>createOrUpdate(entityName, attributes, matchFields)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Takes a list of attributes and values, tries to find an existing record with those values in CRM, if it exists,<br>then performs an update, otherwhise it creates it.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>entityName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>Name of the entity which record you want to update.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>attributes</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>



            
            </td>

            

            

            <td class="description last"><p>Javascript object with the attributes you want to create or update.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>matchFields</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>



            
            </td>

            

            

            <td class="description last"><p>List of fields in the attributes parameter you want to use to know if the record exists in CRM.<br>The attributes specified in this parameter will be used to perform a <a href="CRMClient.html#retrieve">CRMClient#retrieve</a>.</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="CRMClient.js.html">CRMClient.js</a>,
				 <a href="CRMClient.js.html#sunlight-1-line-665">line 665</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    

    
        <h5>Examples</h5>
        
        <p class="code-caption">Create an account named "contoso". In this case, a retrieve of an account with name="contoso" will be performed.If exists, then the name and description will be updated. If it doesn't exist, then the account will be created with the specifiedname and description. If theres more than one account with that name, an exception will be thrown</p>
    
    <pre class="sunlight-highlight-javascript">crm.createOrUpdate(&quot;account&quot;,{name:&quot;contoso&quot;, description:&quot;Account Updated&quot;},[&quot;name&quot;]);</pre>

        <p class="code-caption">Searches for an account named "contoso" owned by me. If exists, it updates it, otherwhise it creates a new one.</p>
    
    <pre class="sunlight-highlight-javascript">var me = crm.whoAmI().UserId;crm.createOrUpdate(&quot;account&quot;,{name:&quot;contoso&quot;, description:&quot;Account Updated&quot;, ownerid:me},[&quot;name&quot;,&quot;ownerid&quot;]);</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="delete"><span class="type-signature"></span>delete(entityName, idsOrConditions)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Deletes one on more records in CRM, and returns the number of records affected.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>entityName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>Name of the entity which record you want to delete</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>idsOrConditions</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type"><a href="Guid.html">Guid</a></span>
|

<span class="param-type">Array.&lt;string></span>
|

<span class="param-type">object</span>



            
            </td>

            

            

            <td class="description last"><p>Can be either a Guid, a string, an array or a conditions object.<br>If it is Guid will delete the record with the specified id.<br>If it is a string, must be a Guid value, and again, will delete the records matching the specified id.<br>If the parameter is an array, each element in it must be either a string or a Guid, and in each case, the records deleted will be the ones specified by these Guids.<br>If it is a condition object, first, all the matching records will be retrieved, and then deleted.<br>Learn how to write condition objects: <a href="Fetch.html#setFilter">Fetch#setFilter</a></p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="CRMClient.js.html">CRMClient.js</a>,
				 <a href="CRMClient.js.html#sunlight-1-line-544">line 544</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>Number of records deleted</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>



    </dd>
</dl>


        

    
        <h5>Examples</h5>
        
        <p class="code-caption">Delete an account with a known Guid</p>
    
    <pre class="sunlight-highlight-javascript">var affectedRecords = crm.delete(&quot;account&quot;,&quot;6fefeb79-5447-e511-a5db-0050568a69e2&quot;);</pre>

        <p class="code-caption">Delete an account with a known Guid. A validation of the Guid format will be performed before calling to the method.</p>
    
    <pre class="sunlight-highlight-javascript">var affectedRecords = crm.delete(&quot;account&quot;,new Guid(&quot;6fefeb79-5447-e511-a5db-0050568a69e2&quot;));</pre>

        <p class="code-caption">Delete several account records at once</p>
    
    <pre class="sunlight-highlight-javascript">var affectedRecords = crm.delete(&quot;account&quot;,[&quot;6fefeb79-5447-e511-a5db-0050568a69e2&quot;,&quot;6fefeb79-5447-e511-a5db-0050568a69e2&quot;);</pre>

        <p class="code-caption">Delete all existing accounts named "contoso"</p>
    
    <pre class="sunlight-highlight-javascript">var affectedRecords = crm.delete(&quot;account&quot;,{name:&quot;contoso&quot;});</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getBridge"><span class="type-signature">&lt;private> </span>getBridge(fakeBridge)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Gets the bridge object between node and .net</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>fakeBridge</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>



            
            </td>

            

            

            <td class="description last"><p>indicates if a fake bridge whants to be retrieved</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="CRMClient.js.html">CRMClient.js</a>,
				 <a href="CRMClient.js.html#sunlight-1-line-53">line 53</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>a .net bridge that allows node to interact with .net</p>
</div>




        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getEntityMetadata"><span class="type-signature"></span>getEntityMetadata(entityName)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Gets metadata information for a particular CRM Entity.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>entityName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>Name of the entity which metadata information you want to get</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="CRMClient.js.html">CRMClient.js</a>,
				 <a href="CRMClient.js.html#sunlight-1-line-829">line 829</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    

    
        <h5>Example</h5>
        
        <p class="code-caption">Retrieve metadata information of the account entity</p>
    
    <pre class="sunlight-highlight-javascript">var metadata = crm.getEntityMetadata(&quot;account&quot;);</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="retrieve"><span class="type-signature"></span>retrieve(entityName, idOrConditions, attributes)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Retrieves one single record from CRM.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>entityName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>Name of the entity to be retrieved. The name is case insensitive, so all values are lowercased before being sent to CRM.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>idOrConditions</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type"><a href="Guid.html">Guid</a></span>
|

<span class="param-type">object</span>



            
            </td>

            

            

            <td class="description last"><p>Either a string with the GUID if the record to be retrieved, a <a href="Guid.html">Guid</a> object with the same value, or a conditions object that returns only one record.<br>Learn how to write condition objects: <a href="Fetch.html#setFilter">Fetch#setFilter</a></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>attributes</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">Array.&lt;string></span>
|

<span class="param-type">boolean</span>



            
            </td>

            

            

            <td class="description last"><p>Optional. Either an attribute name, an array of attributes, or a true value indicating that all attributes must be retrieved. The default value is true. An <strong>*</strong> value has the same effect</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="CRMClient.js.html">CRMClient.js</a>,
				 <a href="CRMClient.js.html#sunlight-1-line-135">line 135</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>A javascript object containing the values of the record. If no data found, then a null object is returned.</p>
</div>




        

    
        <h5>Examples</h5>
        
        <p class="code-caption">Return all the columns for the specified account id</p>
    
    <pre class="sunlight-highlight-javascript">var account = crm.retrieve(&quot;account&quot;,&quot;6fefeb79-5447-e511-a5db-0050568a69e2&quot;);console.log(account);</pre>

        <p class="code-caption">Return all the columns for the specified account id</p>
    
    <pre class="sunlight-highlight-javascript">var account = crm.retrieve(&quot;account&quot;,&quot;6fefeb79-5447-e511-a5db-0050568a69e2&quot;,&quot;*&quot;);console.log(account);</pre>

        <p class="code-caption">Return all the columns for the specified account id</p>
    
    <pre class="sunlight-highlight-javascript">var account = crm.retrieve(&quot;account&quot;,&quot;6fefeb79-5447-e511-a5db-0050568a69e2&quot;,true);console.log(account);</pre>

        <p class="code-caption">You can use the Guid class to specify the id parameter. This allows to perform a GUID format validation before calling the method.</p>
    
    <pre class="sunlight-highlight-javascript">var Guid = require(&quot;dynamicsnode&quot;).Guid;var account = crm.retrieve(&quot;account&quot;,new Guid(&quot;6fefeb79-5447-e511-a5db-0050568a69e2&quot;));console.log(account);</pre>

        <p class="code-caption">Get the accountid,name,ownerid,createdon columns for the given account id</p>
    
    <pre class="sunlight-highlight-javascript">var account = crm.retrieve(&quot;account&quot;,&quot;6fefeb79-5447-e511-a5db-0050568a69e2&quot;,[&quot;accountid&quot;,&quot;name&quot;,&quot;ownerid&quot;,&quot;createdon&quot;]);console.log(account);</pre>

        <p class="code-caption">Get the name of the specified account</p>
    
    <pre class="sunlight-highlight-javascript">var account = crm.retrieve(&quot;account&quot;,&quot;6fefeb79-5447-e511-a5db-0050568a69e2&quot;,&quot;name&quot;);console.log(account.name);</pre>

        <p class="code-caption">Accessing information about a related record</p>
    
    <pre class="sunlight-highlight-javascript">var account = crm.retrieve(&quot;account&quot;,&quot;6fefeb79-5447-e511-a5db-0050568a69e2&quot;,&quot;ownerid&quot;);console.log(account.ownerid); // outputs the GUID valueconsole.log(account.ownerid_type); // outputs systemuserconsole.log(account.ownerid_name); // outputs John Doe</pre>

        <p class="code-caption">Returns an account using a condition object. If there are more than one account named "Acme" then an exception will be thrown</p>
    
    <pre class="sunlight-highlight-javascript">var account = crm.retrieve(&quot;account&quot;,{name:&quot;Acme&quot;});console.log(account.name);</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="retrieveAll"><span class="type-signature"></span>retrieveAll(entityName)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>It is a simpified way of retrieving all the existing records of an entity. Is equivalent to call the <a href="CRMClient.html#retrieveMultiple">CRMClient#retrieveMultiple</a> method not specifying the conditions or attributes method</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>entityName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>Name of the entity which records you want to retrieve.</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="CRMClient.js.html">CRMClient.js</a>,
				 <a href="CRMClient.js.html#sunlight-1-line-297">line 297</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p><a href="DataTable.html">DataTable</a> object with the records found.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="DataTable.html">DataTable</a></span>



    </dd>
</dl>


        

    
        <h5>Example</h5>
        
        <p class="code-caption">Retrieve all existing account records</p>
    
    <pre class="sunlight-highlight-javascript">var accounts = crm.retrieveAll(&quot;account&quot;);</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="retrieveMultiple"><span class="type-signature"></span>retrieveMultiple(entityNameOrFetchXml, conditions, attributes)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Retrieves one or more records of the specified entity that fulfill the specified conditions.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>entityNameOrFetchXml</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>Name of the entity or Fetch Xml query to specify the records to be retrieved. More info: <a href="https://msdn.microsoft.com/en-us/library/gg328332.aspx">https://msdn.microsoft.com/en-us/library/gg328332.aspx</a></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>conditions</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>



            
            </td>

            

            

            <td class="description last"><p>Optional. In case you don't want to write a FetchXml to specify the records to retrieve, you can use a conditions object to specify the criteria to retrieve records. If you omit this parameter, all the existing records of the specified entity will be retrieved; omitting this parameter is equivalent to write a FetchXml without any filter conditions.<br>Learn how to write condition objects: <a href="Fetch.html#setFilter">Fetch#setFilter</a></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>attributes</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">Array.&lt;string></span>
|

<span class="param-type">boolean</span>



            
            </td>

            

            

            <td class="description last"><p>Optional. Either an attribute name, an array of attributes, or a true value indicating that all attributes must be retrieved. The default value is true. An <strong>*</strong> value has the same effect</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="CRMClient.js.html">CRMClient.js</a>,
				 <a href="CRMClient.js.html#sunlight-1-line-246">line 246</a>
			</li>
		</ul>
	</dd>
	

	

	
	<dt class="tag-see method-doc-label method-doc-details-label">See:</dt>
	<dd class="tag-see">
		<ul>
			<li>Build queries with FetchXML: <a href="https://msdn.microsoft.com/en-us/library/gg328332.aspx">https://msdn.microsoft.com/en-us/library/gg328332.aspx</a></li>
			</ul>
	</dd>
	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p><a href="DataTable.html">DataTable</a> object with the records found.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="DataTable.html">DataTable</a></span>



    </dd>
</dl>


        

    
        <h5>Examples</h5>
        
        <p class="code-caption">Retrieves all the records of the account entity. Only the accountid column will be retrieved (the id column is always returned in all Crm queries)</p>
    
    <pre class="sunlight-highlight-javascript">var accounts = crm.retrieveMultiple(&quot;&lt;fetch&gt;&lt;entity name=&#x27;account&#x27;&gt;&lt;/entity&gt;&lt;/fetch&gt;&quot;);</pre>

        <p class="code-caption">Retrieves all the records of the account entity. Includes also all the columns of the entity.</p>
    
    <pre class="sunlight-highlight-javascript">var accounts = crm.retrieveMultiple(&quot;account&quot;);</pre>

        <p class="code-caption">Retrieves all the records of the account entity where the account name is equals to "contoso". Returns all the columns of the entity.</p>
    
    <pre class="sunlight-highlight-javascript">var accounts = crm.retrieveMultiple(&quot;account&quot;,{name:&quot;contoso&quot;});</pre>

        <p class="code-caption">Retrieves all the records of the account entity where the account name is equals to "contoso", but only the specified columns are included in the query.</p>
    
    <pre class="sunlight-highlight-javascript">var accounts = crm.retrieveMultiple(&quot;account&quot;,{name:&quot;contoso&quot;},[&quot;accountid&quot;,&quot;name&quot;,&quot;ownerid&quot;,&quot;createdon&quot;]);</pre>

        <p class="code-caption">Retrieves all the records of the account entity where the account name is equals to "contoso" or "acme". Returns all the columns of the entity.</p>
    
    <pre class="sunlight-highlight-javascript">var accounts = crm.retrieveMultiple(&quot;account&quot;,{name:[&quot;contoso&quot;,&quot;acme&quot;]});</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="setState"><span class="type-signature"></span>setState(entityName, entityId, state, status)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Sets the state and status of a record.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>entityName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>Name of the entity which state or status you want to set</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>entityId</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Guid.html">Guid</a></span>
|

<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>GUID of the record which state or status you want to set</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>state</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>
|

<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>Name or Value of the State you want to set</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>status</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>
|

<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>Name or Value of the Status you want to set</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="CRMClient.js.html">CRMClient.js</a>,
				 <a href="CRMClient.js.html#sunlight-1-line-857">line 857</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    

    
        <h5>Examples</h5>
        
        <p class="code-caption">Set the state of a task to Completed (1) and the Status to Completed (5)</p>
    
    <pre class="sunlight-highlight-javascript">crm.setState(&#x27;task&#x27;,&#x27;6fefeb79-5447-e511-a5db-0050568a69e2&#x27;,1,5);</pre>

        <p class="code-caption">Set the state of a task using the text values</p>
    
    <pre class="sunlight-highlight-javascript">crm.setState(&#x27;task&#x27;,&#x27;6fefeb79-5447-e511-a5db-0050568a69e2&#x27;,&#x27;Completed&#x27;,&#x27;Completed&#x27;);</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="testConnection"><span class="type-signature"></span>testConnection()</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Tests the active connection. Throws an exception if there's any error.<br>The method performs a WhoAmIRequest.</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="CRMClient.js.html">CRMClient.js</a>,
				 <a href="CRMClient.js.html#sunlight-1-line-120">line 120</a>
			</li>
		</ul>
	</dd>
	

	

	
	<dt class="tag-see method-doc-label method-doc-details-label">See:</dt>
	<dd class="tag-see">
		<ul>
			<li><a href="CRMClient.html#whoAmI">CRMClient#whoAmI</a></li>
			</ul>
	</dd>
	

	
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="update"><span class="type-signature"></span>update(entityName, attributes, conditions)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Updates one or more records that meet the specified conditions and returns the number of updated records.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>entityName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>The name of the entity which record you want to update.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>attributes</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>



            
            </td>

            

            

            <td class="description last"><p>Javascript object with the values the new record will have.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>conditions</code></td>
            

            <td class="type">
            
                
<span class="param-type">opbject</span>



            
            </td>

            

            

            <td class="description last"><p>Optional. Javascript condition object with the filter values that is going to be used to know which records are going to be updated.<br>If you omit this parameter, then you have to provide the record GUID in the attributes parameter.<br>Learn how to write condition objects: <a href="Fetch.html#setFilter">Fetch#setFilter</a></p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="CRMClient.js.html">CRMClient.js</a>,
				 <a href="CRMClient.js.html#sunlight-1-line-608">line 608</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>Number of modified records</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>



    </dd>
</dl>


        

    
        <h5>Examples</h5>
        
        <p class="code-caption">Updates all the accounts which name is contoso, and set the attribute value to "contoso-updated"</p>
    
    <pre class="sunlight-highlight-javascript">var affectedRecords = crm.update(&quot;account&quot;,{name:&quot;contoso-updated&quot;},{name:&quot;contoso&quot;})</pre>

        <p class="code-caption">In this example, only the account with the specified account id will be updated. If the specified record id exists, then affectedRecords will be equals to 1.</p>
    
    <pre class="sunlight-highlight-javascript">var affectedRecords = crm.update(&quot;account&quot;,{accountid:&quot;6fefeb79-5447-e511-a5db-0050568a69e2&quot;,name:&quot;contoso-updated&quot;})</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="whoAmI"><span class="type-signature"></span>whoAmI()</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Returns information about the current user. Useful for testing the active connection.</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="CRMClient.js.html">CRMClient.js</a>,
				 <a href="CRMClient.js.html#sunlight-1-line-105">line 105</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>a WhoAmIResponse object with the information about the authenticated user in CRM.</p>
</div>




        

    
        <h5>Example</h5>
        
        <p class="code-caption">Returns information about the current user</p>
    
    <pre class="sunlight-highlight-javascript">var who = crm.whoAmI();console.log(who.BusinessUnitId); // prints 6fefeb79-5447-e511-a5db-0050568a69e2console.log(who.OrganizationId); // prints 2b476bd1-aaed-43ee-b386-eee0f1b87207console.log(who.UserId); // prints 9ba35c25-b892-4f8a-b124-3920d9873af4</pre>


    
</dd>

        </dl>
    

    

    
</article>

</section>




		</div>
	</div>

	<div class="clearfix"></div>

	
		<div class="col-md-3">
			<div id="toc" class="col-md-3 hidden-xs hidden-sm hidden-md"></div>
		</div>
	

</div>
</div>


    <div class="modal fade" id="searchResults">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title">Search results</h4>
          </div>
          <div class="modal-body"></div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div>


<footer>


	<span class="copyright">
	(c) Cristhian Fernandez
	</span>

<span class="jsdoc-message">
	Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.1</a>
	
		on Wed Mar 29th 2017
	
	using the <a href="https://github.com/docstrap/docstrap">DocStrap template</a>.
</span>
</footer>

<script src="scripts/docstrap.lib.js"></script>
<script src="scripts/toc.js"></script>

    <script type="text/javascript" src="scripts/fulltext-search-ui.js"></script>


<script>
$( function () {
	$( "[id*='$']" ).each( function () {
		var $this = $( this );

		$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
	} );

	$( ".tutorial-section pre, .readme-section pre, pre.prettyprint.source" ).each( function () {
		var $this = $( this );

		var example = $this.find( "code" );
		exampleText = example.html();
		var lang = /{@lang (.*?)}/.exec( exampleText );
		if ( lang && lang[1] ) {
			exampleText = exampleText.replace( lang[0], "" );
			example.html( exampleText );
			lang = lang[1];
		} else {
			var langClassMatch = example.parent()[0].className.match(/lang\-(\S+)/);
			lang = langClassMatch ? langClassMatch[1] : "javascript";
		}

		if ( lang ) {

			$this
			.addClass( "sunlight-highlight-" + lang )
			.addClass( "linenums" )
			.html( example.html() );

		}
	} );

	Sunlight.highlightAll( {
		lineNumbers : true,
		showMenu : true,
		enableDoclinks : true
	} );

	$.catchAnchorLinks( {
        navbarOffset: 10
	} );
	$( "#toc" ).toc( {
		anchorName  : function ( i, heading, prefix ) {
			return $( heading ).attr( "id" ) || ( prefix + i );
		},
		selectors   : "#toc-content h1,#toc-content h2,#toc-content h3,#toc-content h4",
		showAndHide : false,
		smoothScrolling: true
	} );

	$( "#main span[id^='toc']" ).addClass( "toc-shim" );
	$( '.dropdown-toggle' ).dropdown();

    $( "table" ).each( function () {
      var $this = $( this );
      $this.addClass('table');
    } );

} );
</script>



<!--Navigation and Symbol Display-->


<!--Google Analytics-->

<script>
	(function ( i, s, o, g, r, a, m ) {
		i['GoogleAnalyticsObject'] = r;
		i[r] = i[r] || function () {
			(i[r].q = i[r].q || []).push( arguments )
		}, i[r].l = 1 * new Date();
		a = s.createElement( o ),
			m = s.getElementsByTagName( o )[0];
		a.async = 1;
		a.src = g;
		m.parentNode.insertBefore( a, m )
	})( window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga' );

	ga( 'create', 'UA-85523002-1', 'dynamicsnode.js.org' );
	ga( 'send', 'pageview' );
</script>



    <script type="text/javascript">
        $(document).ready(function() {
            SearcherDisplay.init();
        });
    </script>


</body>
</html>